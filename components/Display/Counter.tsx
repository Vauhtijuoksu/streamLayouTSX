import {PersonDisplay} from "@/components/Display/Person";
import {useStyle} from "@/themes/ThemeContext";
import {useCounter} from "@/DataHandler/DataProvider";
import {CSSProperties} from "react";

type CounterDisplayProps = {
  index: number
  forceRender?: boolean,
}

export const CounterDisplay = ({
  index,
  forceRender = false
}:CounterDisplayProps) => {
  const style = useStyle()
  const counters = useCounter()
  const counter =  counters.length > index ? counters[index] : {value: -1, style: 0}
  if (!forceRender && counter.value == -1) return null
  return (
    <div className={style.counter}>
      <div className={style.counterValue}>{counter.value < 0 ? "-" : counter.value}</div>
      <CounterIcon className={style.counterIcon} type={counter.style} colorValue={index}/>
    </div>
  )
}


type CounterIconProps = {
  colorValue: number
  className: string
  type: number
}


export const CounterIcon = ({
  colorValue,
  className,
  type
}:CounterIconProps) => {
  const style = useStyle()
  if (type == 0) return(
    <div className={className} style={{'--FillColor': "var(--counterColor" + colorValue + ")"} as CSSProperties}>
      <svg xmlns="http://www.w3.org/2000/svg" width="105.523" height="105.523" viewBox="0 0 27.92 27.92">
        <g strokeLinecap="round" strokeLinejoin="round">
          <path fill="none" stroke="#ebf6e6" strokeMiterlimit="4.008" strokeWidth="3.454"
                d="M11.845.531a1.453 1.452 89.316 0 0-1.216.881l-2.735 6.46-6.983-.636A1.453 1.452 89.316 0 0-.172 9.78l5.296 4.597-2.762 6.448a1.453 1.452 89.316 0 0 2.083 1.817l6.007-3.618 5.276 4.621a1.453 1.452 89.316 0 0 2.37-1.42l-1.583-6.835 6.023-3.592a1.453 1.452 89.316 0 0-.617-2.695l-6.987-.606-1.553-6.84A1.453 1.452 89.316 0 0 11.845.53Z"
                transform="translate(2.694 1.715)"/>
          <path className={style.fillable} stroke="#320a45" strokeMiterlimit="4.008" strokeWidth="1.254"
                d="M11.845.531a1.453 1.452 89.316 0 0-1.216.881l-2.735 6.46-6.983-.636A1.453 1.452 89.316 0 0-.172 9.78l5.296 4.597-2.762 6.448a1.453 1.452 89.316 0 0 2.083 1.817l6.007-3.618 5.276 4.621a1.453 1.452 89.316 0 0 2.37-1.42l-1.583-6.835 6.023-3.592a1.453 1.452 89.316 0 0-.617-2.695l-6.987-.606-1.553-6.84A1.453 1.452 89.316 0 0 11.845.53Z"
                transform="translate(2.694 1.715)"/>
          <path fill="none" stroke="#ebf6e6" strokeWidth=".965"
                d="m6.115 12.033-1.556-1.238 3.675.57M12.75 9.704l1.792-5.061.448 2.033"/>
        </g>
      </svg>
    </div>
  )
  return (
    <div className={className} style={{'--FillColor': "var(--counterColor" + colorValue + ")"} as CSSProperties}>
      <svg xmlns="http://www.w3.org/2000/svg" width="105.523" height="105.523" viewBox="0 0 27.92 27.92">
        <path fill="none" stroke="#ebf6e6" strokeWidth="3.454"
              d="M13.167 2.311c-2.064.089-4.186.657-5.77 2.04-.609.516-1.254 1.252-1.633 2.017-.54 1.35-.692 2.822-.983 4.237-.053 1.3.067 2.633-.391 3.88-.202.933.034 1.968.753 2.625.308 1.513-.673 3.009-.166 4.502.044 1.17-.588 2.553.272 3.553.912.655 2.15.592 3.228.592 2.441-.135 4.61-1.384 6.919-2.058.635-.155 1.326-.375 1.526-1.087.42-1.084.13-2.332.559-3.394.395-.71 1.705-.806 1.906.103 1.155.18 1.811-.983 2.46-1.683 1.714-1.75 1.545-4.37 1.888-6.617.489-2.841-1.495-5.553-3.956-6.776-1.982-1.197-4.274-1.995-6.612-1.934Z"/>
        <path className={style.fillable}
              d="M13.167 2.311c-2.064.089-4.186.657-5.77 2.04-.609.516-1.254 1.252-1.633 2.017-.54 1.35-.692 2.822-.983 4.237-.053 1.3.067 2.633-.391 3.88-.202.933.034 1.968.753 2.625.308 1.513-.673 3.009-.166 4.502.044 1.17-.588 2.553.272 3.553.912.655 2.15.592 3.228.592 2.441-.135 4.61-1.384 6.919-2.058.635-.155 1.326-.375 1.526-1.087.42-1.084.13-2.332.559-3.394.395-.71 1.705-.806 1.906.103 1.155.18 1.811-.983 2.46-1.683 1.714-1.75 1.545-4.37 1.888-6.617.489-2.841-1.495-5.553-3.956-6.776-1.982-1.197-4.274-1.995-6.612-1.934Z"/>
        <path fill="black" fillOpacity="0.8"
              d="m15.999 3.144.02.014c.07.147.247.194.354.312.591.521.844 1.296 1.077 2.024.118.376.569 1.099.696 1.472-.04.34-.13.676-.311.97-.41.706-.805 1.05-1.005 1.863-.07.279-.627.477-.572.76-.284.192-.612.305-.914.465-.182-.27-.394-.527-.52-.83.078-.052.222-.084.261-.148-.109-.22-.74-.58-.687-.846.083-.38.335-.466.304-.878-.006-.123.47-.262.403-.358-.043-.206-.167-.442-.4-.459-.241-.03-.414.195-.465.407-.135.41-.166.846-.308 1.253-.084.123-.01.278-.017.417.06.89.973 1.526 1.462 2.275.237.368.284.88.473 1.278.215.395-.084.786-.02 1.216.012.076.316-.371.388-.285.102.124-.014.783.042.881.123.208.31.399.56.429a16.83 16.83 0 0 0 2.815.452c.15 0-.104.026-.153.044-.77.154-1.5.479-2.277.598-.234.034-.495.03-.682-.135-.08-.082-.18.026-.269.04-.937.358-1.88.802-2.584 1.536-.353.362-.586.815-.785 1.275-.059.143-.168.288-.34.285-.237.017-.473-.029-.71-.011-1.12.003-2.244.018-3.354-.047a7.74 7.74 0 0 1-1.138-.126c-.603-.105-1.222-.171-1.808-.356-.044.259-.092.51-.137.748-.124.649-.202 1.205-.096 1.715.037-.016.174-.024.185-.01.14.06-.12.079-.169.032-.008-.002-.01-.004-.014-.006.017.076.036.152.061.226l.03.092.005.095c.004.115.002.228-.002.34.04.007.082.016.121.016 1.39.155 2.786-.204 4.173-.007 1.289.239.562-.039 1.76.088.447.01.924-.034 1.304-.29.583-.218 1.047-.654 1.477-1.09.158.23.502.226.705.058.378-.287.546-.799.463-1.26-.014-.181-.065-.386-.241-.473.07-.28.138-.563.22-.84l.109.037c.57.176 1.17.314 1.77.261a1.89 1.89 0 0 1 1.304-.492c.412 0 .807.238 1.12.578.044-.158.12-.313.192-.453.25-.478.564-.955.595-1.51l.016.006.006.002c.074.026.15.048.228.05-.03.162-.054.358.064.487.118.04.033.153.017.237a4.655 4.655 0 0 1-.494 1.048c.051-.035.103-.072.158-.122.321-.294.643-.747 1.024-1.158l.006-.007.006-.007c.63-.644.973-1.45 1.187-2.346a.29.29 0 0 1-.206-.217c.058-.103.171-.142.283-.136.079-.394.137-.803.188-1.22-.008.015-.018.028-.023.044-.351-.036-.75.09-.92.421-.096.182-.12.393-.103.596-.072-.011-.285-.149-.184-.005.155.341.367.66.459 1.027a.419.419 0 0 0-.456.161.367.367 0 0 0-.394.205c.008.085-.09.15-.16.113a1.907 1.907 0 0 0-.709-.18c.19-.057.308-.236.463-.35l.343-.299-.762-.03c-.214-.047-.457-.055-.68-.097-.959-.156-1.942-.437-2.699-1.073a2.33 2.33 0 0 1-.731-1.079c-.112-.318-.277-.636-.273-.98-.004-.113.112-.17.21-.146a.463.463 0 0 0 .474-.43c.191.103.128.355.095.527-.086.401-.304.794-.236 1.215.044.272.29.463.553.504l.32.086c.046-.552.097-1.117.335-1.625.127-.318.357-.583.478-.9.098-.253-.06-.543-.311-.628-.282-.122-.6-.11-.89-.193-.066-.038-.001-.141.006-.195.059-.175.187-.31.31-.441-.061-.182-.143-.39-.033-.572.257-.453.728-.739.98-1.196.211-.348.215-.8.016-1.155l-.22-.444c.167-.38.26-.8.192-1.214-.038-.258-.88-.706-.99-.94-.097-.207-.003-.348.066-.482-.485-.197-.979-.37-1.48-.504zM5.537 9.704a1.006 1.006 0 0 0-.157.009 44.89 44.89 0 0 1-.184.973c-.03.826-.003 1.537-.117 2.462l.34.206c.103-.02.296.106.388.044.286-.193.616-.202.84-.32.305-.427.702-.813.874-1.319.004-.372-.007-.749.005-1.117.31-.467-.68-.492-.907-.441-.088.005-.195.096-.257-.005-.132-.157-.252-.34-.454-.413a1.025 1.025 0 0 0-.371-.08zm5.345.452c-.395.013-.788.065-1.18.11a.632.632 0 0 0-.503.6c-.015.23.023.46.018.69.063.093.15.22.051.322-.254.33-.655.56-.782.978-.106.315.008.663.211.913.137.424.509.718.865.959.183.117.412.246.629.152.08-.033.136-.204.198-.092.129.113.314.141.48.113-.074.15-.009.33.096.449.056.104.199.082.298.12.843.164 1.778-.103 2.368-.736.32-.344.483-.815.465-1.283-.007-.124.12-.203.163-.312.127-.203.221-.448.147-.687-.085-.593-.494-1.091-.995-1.397-.556-.353-1.19-.552-1.786-.825-.24-.073-.494-.078-.743-.074zm-3.98 3.362c-.871.62-1 1.044-1.142 1.518-.155.745-.605 1.06-.078 1.541l.16.146.043.212c.097.761.383.311.998.23.417.024.874.548 1.204.295.22-.168.4-.388.51-.646a1.49 1.49 0 0 0-.239-1.584c-.077-.097-.183-.172-.266-.26-.385-.82-.583-1.47-1.19-1.452zm10.428 3.884c.025 0 .052.004.079.01.095.044.221.126.178.249-.084.071-.197.026-.297.034-.077-.053-.193-.128-.178-.225a.4.4 0 0 1 .218-.068zm.277.405a.357.357 0 0 1 .203.038c.116.052.096.161.068.262-.164.131-.447.042-.494-.168a.297.297 0 0 1 .223-.132zm-11.53 2.378c.01.167-.136.31-.082.474-.013.137-.23.18-.322.095-.097-.062-.186-.192-.09-.295a.694.694 0 0 1 .494-.274zm.976.075c.06.083.05.149-.003.237-.002.078-.014.19-.08.23-.08-.055-.241-.135-.154-.251a.605.605 0 0 1 .237-.216zm1.248.055.001.017c-.024.16-.037.368-.193.456-.082-.015-.155-.113-.166-.195.037-.157.206-.257.358-.278zm.917.257c.005.002.012.006.016.006.175.022-.022.135-.02 0-.005-.008-.002-.008.004-.006zm4.134.07c.024.018.036.095.056.113-.086.02-.208-.038-.084-.105.011-.012.02-.013.028-.007zm-.106.192a.28.28 0 0 1 .066.001c.067.06.031.204.057.296-.005.064-.207.081-.244.007-.068-.056-.148-.14-.053-.216a.26.26 0 0 1 .174-.088zm-4.007.497.072.147c-.092.005-.182-.088-.072-.147zm-2.52.038c-.057.16-.096.07 0 0zm-.702.097c-.076.157-.11.052 0 0z"/>
        <path fill="none" stroke="#ebf6e6" strokeLinecap="round" strokeLinejoin="round" strokeWidth=".965"
              d="M8.3 5.668c.673-.91 2.225-1.623 3.544-1.676"/>
        <path fill="none" stroke="#320a45" strokeWidth="1.254"
              d="M13.167 2.311c-2.064.089-4.186.657-5.77 2.04-.609.516-1.254 1.252-1.633 2.017-.54 1.35-.692 2.822-.983 4.237-.053 1.3.067 2.633-.391 3.88-.202.933.034 1.968.753 2.625.308 1.513-.673 3.009-.166 4.502.044 1.17-.588 2.553.272 3.553.912.655 2.15.592 3.228.592 2.441-.135 4.61-1.384 6.919-2.058.635-.155 1.326-.375 1.526-1.087.42-1.084.13-2.332.559-3.394.395-.71 1.705-.806 1.906.103 1.155.18 1.811-.983 2.46-1.683 1.714-1.75 1.545-4.37 1.888-6.617.489-2.841-1.495-5.553-3.956-6.776-1.982-1.197-4.274-1.995-6.612-1.934Z"/>
      </svg>
    </div>
  )
  
}